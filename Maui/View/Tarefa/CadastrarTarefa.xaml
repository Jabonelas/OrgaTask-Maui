<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.View.Tarefa.CadastrarTarefa">

    <Grid>

        <ScrollView>

            <VerticalStackLayout Spacing="20" Padding="20">
                <!-- Cabeçalho -->
                <Frame BackgroundColor="{StaticResource Azul}" Padding="20" CornerRadius="15" HasShadow="True">
                    <VerticalStackLayout Spacing="20">
                        <HorizontalStackLayout Spacing="20" HorizontalOptions="Center">
                            <HorizontalStackLayout HorizontalOptions="Center">
                                <Image Source="adicionar.png" WidthRequest="28" HeightRequest="28"></Image>

                                <Label Text="Nova Tarefa"
                                       FontAttributes="Bold"
                                       FontSize="24"
                                       TextColor="White"
                                       Margin="10,0,0,0"></Label>

                            </HorizontalStackLayout>

                        </HorizontalStackLayout>

                        <Label Text="Preencha os campo ao lado para criar uma nova tarefa e organizar seu trabalho." FontSize="14" TextColor="White" HorizontalTextAlignment="Center"></Label>

                        <!-- Benefícios -->
                        <VerticalStackLayout Spacing="12" HorizontalOptions="Center">

                            <HorizontalStackLayout>
                                <Image Source="aceitar.png" WidthRequest="20" HeightRequest="20"></Image>
                                <Label Text="Organize suas atividades por prioridades." TextColor="White" FontSize="12" Margin="8,0,0,0"></Label>
                            </HorizontalStackLayout>

                            <HorizontalStackLayout>
                                <Image Source="aceitar.png" WidthRequest="20" HeightRequest="20"></Image>
                                <Label Text="Defina prazos e acompanhe seu progresso." TextColor="White" FontSize="12" Margin="8,0,0,0"></Label>
                            </HorizontalStackLayout>

                            <HorizontalStackLayout>
                                <Image Source="aceitar.png" WidthRequest="20" HeightRequest="20"></Image>
                                <Label Text="Matenha o seu fluxo de trabalho organizado." TextColor="White" FontSize="12" Margin="8,0,0,0"></Label>
                            </HorizontalStackLayout>

                        </VerticalStackLayout>

                    </VerticalStackLayout>

                </Frame>


                <Frame Padding="20" CornerRadius="15" HasShadow="True">
                    <VerticalStackLayout Spacing="15">
                        
                        <Label Text="Título:" />
                        <Entry x:Name="txtTitulo" Placeholder="Digite o título..." />
                        <Label Text="O título é obrigatório!" TextColor="Red"  IsVisible="{Binding MostrarErroTitulo}" />

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Label Text="Prioridade:" Grid.Column="0" Grid.Row="0" />
                            <Label Text="Prazo (dias):" Grid.Column="1" Grid.Row="0" />

                            <Picker 
                                Title="Selecione a opção..." 
                                Grid.Column="0" 
                                Grid.Row="1"
                                ItemsSource="{Binding ListaDePrioridades}" 
                                SelectedItem="{Binding PrioridadeSelecionada}"
                            />

                            <Label Text="A prioridade é obrigatória!"   Grid.Column="0" Grid.Row="2"  TextColor="Red"  IsVisible="{Binding MostrarErroPrioridade}" />

                            <Entry 
                                x:Name="txtPrazo" 
                                Grid.Column="1" 
                                Grid.Row="1"
                                Placeholder="Informe um prazo..." 
                                Keyboard="Numeric" 
                            />
                            <Label Text="O prazo é obrigatório!"   Grid.Column="1" Grid.Row="2"  TextColor="Red"  IsVisible="{Binding MostrarErroPrazo}" />

                        </Grid>

                        <Label Text="Descrição:" />
                        <Editor 
                            x:Name="txtDescricao" 
                            Placeholder="Digite a descrição..." 
                            AutoSize="TextChanges" 
                            MaxLength="500"
                            HeightRequest="100"
                        />
                        <Label Text="A descrição é obrigatório!" TextColor="Red"  IsVisible="{Binding MostrarErroDescricao}" />

                        <Label Text="Status:" />
                        <Picker 
                            Title="Selecione uma opção..." 
                            Margin="0,5,10,0"
                            ItemsSource="{Binding ListaDeSatus}" 
                            SelectedItem="{Binding StatusSelecionado}"
                        />

                        <Label Text="O status é obrigatório!" TextColor="Red"  IsVisible="{Binding MostrarErroStatus}" />

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>


                            <Button x:Name="btnCancelar" Text="Cancelar" Grid.Column="0" Grid.Row="0" Margin="0,10,20,0"
                                    ImageSource="cancelar.png"
                                    ContentLayout="Left, 10"
                                    BorderColor="Gray"
                                    BorderWidth="1.5"
                                    BackgroundColor="White"
                                    TextColor="Gray"
                                    CornerRadius="10"
                                    HeightRequest="45"
                                    Command="{Binding CancelarCommand}"/>

                            <Button x:Name="btnSalvar" Grid.Column="1" Grid.Row="0" Margin="20,10,0,0"
                                Text="Salvar"
                                ImageSource="verificar.png"
                                ContentLayout="Left, 10"
                                BackgroundColor="#007AFF"
                                TextColor="White"
                                HeightRequest="45"
                                CornerRadius="10" 
                                Command="{Binding SalvarCommand}"/>

                    

                        </Grid>

                    </VerticalStackLayout>
                </Frame>



            </VerticalStackLayout>



        </ScrollView>


    </Grid>



</ContentPage>